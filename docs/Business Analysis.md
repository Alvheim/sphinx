# Система Управління Інтерактивними Курсами (Interactive Course Management System)

## Glossary
Знання – це сукупність числових даних, фактів, образів, правил, закономірностей тощо.<br>
Уміння – це здатність людини мобілізувати знання для виконання дій з метою досягнення поставленої цілі.<br>
Навичка – це уміння, доведене до автоматизму.<br>
Навчальний матеріал – сукупність знань, умінь та навичок на певну тематику.<br>
Навчальний процес – це процес взаємодії вчителя та учня, в результаті якого учень засвоює навчальний матеріал.<br>
Навчальне заняття – це зовнішнє вираження навчального процесу. Форма навчального заняття характеризується:<br>
- різноманітністю навчальних дій;<br>
- порядком навчальних дій;<br>
- тривалістю навчальних дій;<br>
- тривалістю перерв між навчальними діями.<br>
Курс – серія логічно зв’язаних навчальних занять. Курс характеризується:<br>
- кількість навчальних занять;<br>
- переходами між навчальними заняттями;<br>
- часом навчального заняття;<br>
- часом перерв між навчальними заняттями;<br>
- зальним часом вивчення курсу.<br>
Дерево курсів – це серія логічно зв’язаних курсів. Дисципліна характеризується:<br>
- кількістю курсів;<br>
- переходами між навчальними курсами;<br>
- часом вивчення курсу;<br>
- загальним часом вивчення дисципліни.<br>
Інтерактивність – це принцип організації системи, при якому ціль досягається інформаційним обміном елементів цієї системи.<br>
Управління – це цілеспрямований вплив на процеси для зміни їх протікання з метою досягнення бажаного результату.<br>

## Goal
Створення ICM-системи, яка вирішує ряд завдань:<br>
-збереження навчальних ресурсів;<br>
-створення навчальних завдань;<br>
-створення на основі навчальних ресурсів і завдань навчальних занять;<br>
-створення загальнодоступних курсів на основі навчальних занять;<br>
-управління процесом редагування курсів;<br>
-зв'язування курсів в галузь освіти.<br>

## Principles
1. Основна бізнес-сутність платформи - курс.<br>
2. Будь-який курс є безкоштовним.<br> 
3. Курс включає безліч авторів. Автор курсу - це користувач, який створює та пропонує зміни до курсу.<br>
4. Автором курсу може бути будь-який користувач.<br> 
5. Кожен курс має одного і тільки одного модератора. Модератор - це користувач, що має право приймати або відхиляти зміни до курсу, які пропонують автори. Порядок вибору модератора: перший автор; найактивніший автор; користувач, що пройшов курс, та якого вибрали голосуванням; адміністратор. <br>
6. Субадміністратор - це користувач, що має право звільняти модераторів. Субадміністратор не має права призначати модераторів. Субадміністраторів може бути безліч.<br>
7. Адміністратор - це користувач, що має право: звільняти модераторів, призначати субадміністраторів, звільняти субадміністраторів. Адміністратор не має права призначати модераторів. Адміністратор може бути лише один.<br>

## Financial Model 
Варіант 1: одноразова плата за реєстрацію.<br>
Варіант 2: багаторазова плата за підписку.<br>
Варіант 3: 0.5-1.5% від донатних коштів авторам.<br>

## Bussiness Objects

### General View
Participation Objects: User, UserAuthentication, UserAuthorisation, Permission.<br>
Main Activity Objects: UserInWork, CourseParticipation, ResourceMetadata, Exercise, Lesson, LessonStructure, Сourse, СourseStructure, СourseTree, СourseTreeStructure.<br>
Additional Activity Objects: TransactionHistory, Notification, NotificationInbox, ChannelOption, MessagePattern, MessageCreator.<br>

![uml](http://www.plantuml.com/plantuml/proxy?cache=no&src=https://raw.githubusercontent.com/Alvheim/sphinx/feature/docs/docs/BR-model.puml)

Actors: SuspiciousUser (Low Trust Factor), User (Good Trust Factor), BoundedUser (Broke the Rules), Moderator#ObjectType#ObjectID (Moderator for Object with Type and ID), SubAdministrator, Administrator.<br>

![uml](http://www.plantuml.com/plantuml/proxy?cache=no&src=https://raw.githubusercontent.com/Alvheim/sphinx/feature/docs/docs/Empowerment.puml)

### User

#### Attributes

| Назва атрибуту (Attribute name) | Опис атрибуту (Attribute Description) |
| :-----------------------------: | :------------------------------------:|
| User ID | Унікальний ідентифікатор користувача в системі. |
| First Name | Ім’я користувача. |
| Middle Name | По-батькові користувача. |
| Last Name | Прізвище користувача. |
| Username | Псевдонім користувача. |
| Birthday | Дата народження користувача. |
| Email | Електронна адреса користувача. |
| Mobile Number | Номер телефону користувача. |
| CommunicationChannels | Додаткові канали зв'язку з користувачем: {channel: channel_value; channel: channel_value}. |
| AcademicDegree | Рівень освіти користувача. |
| PositionAtWork | Позиція на роботі. |
| TrustFactor | Рівень довіри інших користувачів. |

Channel: Additional Mobile Number, Facebook, Telegram, Instagram, Twitter, Discord...

### UserAuthentication

#### Attributes

| Назва атрибуту (Attribute name) | Опис атрибуту (Attribute Description) |
| :-----------------------------: | :------------------------------------:|
| User ID | Внутрішній ідентифікатор користувача в системі. |
| Login | Зовнішній ідентифікатор користувача. |
| Password | Пароль користувача. |

### UserAuthorisation

#### Attributes

| Назва атрибуту (Attribute name) | Опис атрибуту (Attribute Description) |
| :-----------------------------: | :------------------------------------:|
| Couple ID | Ідентифікатор зв'язку користувача та ролі. |
| User ID | Ідентифікатор користувача. |
| Role | Роль користувача. |

### Permission 

#### Attributes

| Назва атрибуту (Attribute name) | Опис атрибуту (Attribute Description) |
| :-----------------------------: | :------------------------------------:|
| Permission ID | Унікальний ідентифікатор дозволу доступу. |
| Role | Роль користувача. |
| Object Type | Параметр для визначення контексту Object ID. Може набувати значень: resource, exercise, lesson, course, coursetree. |
| Object ID | Ідентифікатор об'єкту системи. |
| Action | Дія з об'єктом системи. Може набувати значень: сreate, read, update, delete... | 

### Resource

#### Attributes

| Назва атрибуту (Attribute name) | Опис атрибуту (Attribute Description) |
| :-----------------------------: | :------------------------------------:|
| ResourceID | Унікальний ідентифікатор джерела. |
| Title | Назва джерела. |
| Description | Опис джерела - передмова або зміст джерела. |
| Author | Автор джерела. |
| Form | Форма джерела. Може набувати значень: book, audio, video, interactive object.  |
| Scope of Work (Measure) | Одиниця виміру. Може набувати значень: page, second, part.  |
| Scope of Work (Value) | Значення одиниці виміру. Може набувати значень: [0; +inf]. |
| Link Type | Контекст Link. Може набувати значень: internal, external. |
| Link | Посилання на джерело. |

### Exercise

#### Attributes

| Назва атрибуту (Attribute name) | Опис атрибуту (Attribute Description) |
| :-----------------------------: | :------------------------------------:|
| Exercise ID | Унікальний ідентифікатор завдання. |
| Title | Заголовок завдання. |
| Сondition | Умова завдання. |
| Prompt | Підказка до виконання завдання. |
| Answer | Відповідь до завдання. |

### Lesson

#### Attributes

| Назва атрибуту (Attribute name) | Опис атрибуту (Attribute Description) |
| :-----------------------------: | :------------------------------------:|
| Lesson ID | Ідентифікатор навчального заняття. |
| Lesson Title | Тема навчального заняття. |
| Lesson Goal | Ціль навчального заняття. |
| Stage Count | Кількість етапів навчального заняття. |
| General Required Time | Рекомендований час виконання. Вимірюється в секундах. |

### LessonStructure

#### Attributes

| Назва атрибуту (Attribute name) | Опис атрибуту (Attribute Description) |
| :-----------------------------: | :------------------------------------:|
| Lesson ID | Ідентифікатор навчального заняття. |
| Stage | Порядковий номер етапу навчального заняття. |
| Stage Comment | Комментар до етапу навчального заняття. |
| Equipment Type | Контекст Equipment ID. Може бути: "resource", "exercise", "pass". |
| Equipment ID | Ідентифікатор Equipment-а: Resource ID, Exercise ID. Ігнорується при Equipment Type = "pass".  |
| Required Time | Рекомендований час виконання. Вимірюється в секундах. |

### Сourse

#### Attributes

| Назва атрибуту (Attribute name) | Опис атрибуту (Attribute Description) |
| :-----------------------------: | :------------------------------------:|
| Сourse ID | Ідентифікатор курсу. |
| Сourse Title | Назва курсу. |
| Сourse Description | Опис курсу. |
| Сourse Logo | Емблема курсу. |
| Lesson Count | Кількість етапів навчального заняття. |
| General Required Time | Рекомендований час виконання. Вимірюється в секундах. |

### СourseStructure

#### Attributes

| Назва атрибуту (Attribute name) | Опис атрибуту (Attribute Description) |
| :-----------------------------: | :------------------------------------:|
| Course ID | Ідентифікатор курсу. |
| Lesson Number | Порядковий номер навчального заняття. |
| Lesson ID | Ідентифікатор навчального заняття. |

### СourseTreeStructure

#### Attributes

| Назва атрибуту (Attribute name) | Опис атрибуту (Attribute Description) |
| :-----------------------------: | :------------------------------------:|
| Couple ID | Ідентифікатор зв'язку між курсами. |
| Course Tree ID | Ідентифікатор дерева курсів. |
| Cource ID | Ідентифікатор поточного курсу. |
| Next Cource ID | Ідентифікатор наступного курсу. |

### СourseTree

#### Attributes

| Назва атрибуту (Attribute name) | Опис атрибуту (Attribute Description) |
| :-----------------------------: | :------------------------------------:|
| Сourse Tree ID | Ідентифікатор дерева курсів. |
| Course Tree Title | Заголовок дерева курсів. |
| Course Tree Description | Опис дерева курсів. |

### UserInWork

#### Attributes

| Назва атрибуту (Attribute name) | Опис атрибуту (Attribute Description) |
| :-----------------------------: | :------------------------------------:|
| Work ID | Ідентифікатор запису про виконання Task-у. |
| Task Type | Контекст Task ID. Може бути: "lesson", "course". |
| Task ID | Ідентифікатор Task-у. |
| User ID | Ідентифікатор користувача. |
| IsDone | Чи завершено Task? |

### CourseParticipation

#### Attributes

| Назва атрибуту (Attribute name) | Опис атрибуту (Attribute Description) |
| :-----------------------------: | :------------------------------------:|
| Course ID | Унікальний ідентифікатор курсу. |
| User ID | Унікальний ідентифікатор користувача. |

### TransactionHistory

#### Attributes

| Назва атрибуту (Attribute name) | Опис атрибуту (Attribute Description) |
| :-----------------------------: | :------------------------------------:|
| Transaction ID | Унікальний ідентифікатор транзакції. |
| Object Type | Контекст Object ID. Може бути: "resource", "exercise", "lesson", "course", "courcetree". |
| Object ID | Ідентифікатор об'єкта. |
| Attribute Name | Ім'я зміненого атрибуту. |
| Attribute Type | Тип значення зміненого атрибуту. |
| Attribute Previous Value | Попереднє значення зміненого атрибуту. |
| Attribute New Value | Поточне значення зміненого атрибуту. |
| Requested Time | Унікальний ідентифікатор ресурсу. |
| User ID | Ідентифікатор User-а, який запропонував зміни. |
| User Comment | Коментар користувача, який ініціалізував зміни. |
| Moderator ID | Ідентифікатор поточного модератора. |
| Moderator Comment | Коментар поточного модератора. |
| Approved Status | Унікальний ідентифікатор ресурсу. Може бути: "wait", "yes", "no". |

### Notification

#### Attributes

| Назва атрибуту (Attribute name) | Опис атрибуту (Attribute Description) |
| :-----------------------------: | :------------------------------------:|
| NotificationID | Ідентифікатор сповіщення. |
| User ID | Ідентифікатор користувача-отримувача. |
| Channel | Канал зв’язку з отримувачем. |
| Message | Сформоване повідомлення для отримувача. |
| TimeForSending | Запланований час відправки. |
| Status | Статус повідомлення. Можливі значення: 0 - не відправлено; 1 - відправлено. |

### NotificationInbox

#### Attributes

| Назва атрибуту (Attribute name) | Опис атрибуту (Attribute Description) |
| :-----------------------------: | :------------------------------------:|
| NotificationID | Ідентифікатор сповіщення. |
| Message | Сформоване повідомлення для отримувача. |
| ReceivedTime | Час отримання повідомлення. |

### ChannelOption

#### Attributes

| Назва атрибуту (Attribute name) | Опис атрибуту (Attribute Description) |
| :-----------------------------: | :------------------------------------:|
| Option ID | Ідентифікатор сповіщення. |
| User ID | Ідентифікатор користувача. |
| Channel | Канал сповіщення (telegram, mail etc.). |
| Channel Parameter | Параметр каналу сповіщення. |
| Channel Value | Значення параметра каналу сповіщення, вказане користувачем. |

### MessagePattern

#### Attributes

| Назва атрибуту (Attribute name) | Опис атрибуту (Attribute Description) |
| :-----------------------------: | :------------------------------------:|
| MessagePatternID | Ідентифікатор шаблону повідомлення. |
| Locale | Локалізація/мова шаблону повідомлення. |
| Text | Текст шаблону повідомлення. |
| Count | Кількість параметрів шаблону повідомлення. |

### MessageCreator

#### Attributes

| Назва атрибуту (Attribute name) | Опис атрибуту (Attribute Description) |
| :-----------------------------: | :------------------------------------:|
| NotificationID | Ідентифікатор сповіщення. |
| MessagePatternID | Ідентифікатор шаблону повідомлення. |
| Option Number | Порядковий номер вставного елемента. |
| Option Value | Значення вставного елемента. |

## UseCase

### Registration (001)

***Alias:***  Створити обліковий запис.

***Participants:***  Гість, Система.

***Precondition:***  Обліковий запис відсутній.

***Result:***  Підтвердження облікового запису.

***Exception:***

• EX.001.001. Адресу електронної пошти не введено.

• EX.001.002. Введено неіснуючу адресу електронної пошти.

• EX.001.003. Первинний та повторний пароль не збігаються.

***Main Scenario:***

1. Користувач заходить на сторінку реєстрації нового користувача.
2. Користувач вводить своє ім'я, прізвище, по-батькові, адресу електронної пошти, пароль та пароль повторно.
3. Користувач натискає на кнопку "Зареєструватися".
4. Система надсилає листа із підтверджуючим посиланням на вказану адресу (Можливо: EX.001.001; EX.001.002; EX.001.003).

### Registration Approving (002)

***Alias:***  Підтвердити обліковий запис.

***Participants:***  Гість, Система.

***Precondition:***  Здійснено запит на підтвердження облікового запису.

***Result:***  Підтверджений обліковий запис.

***Exception:***

• EX.002.001. Помилка обробки підтвердженого облікового запису.

***Main Scenario:***
1. Користувач переходить за підтверджуючим посиланням.
2. Система створює обліковий запис нового користувача (Можливо: EX.002.001).

### Account Updating (003)

***Alias:***  Редагувати обліковий запис.

***Participants:***  Користувач, Система.

***Precondition:***  Користувач має обліковий запис.

***Result:***  Зміни в даних облікового запису.

***Exception:***

• EX.003.001. Обліковий запис з такою електронною поштою вже існує.

• EX.003.002. Користувач не підтвердив зміни в обліковому записі.

***Main Scenario:***
1. Користувач відкриває меню редагування облікового запису.
2. Користувач редагує обліковий запис.
3. Система зберігає зміни в обліковому записі. (Можливо: EX.003.001, EX.003.002)

### Account Deleting (004)

***Alias:***  Видалити обліковий запис.

***Participants:***  Користувач, Система.

***Precondition:***  Користувач має обліковий запис.

***Result:***  Видалення облікового запису.

***Exception:***

• EX.004.001. Користувач не підтвердив видалення облікового запису.

***Main Scenario:***
1. Користувач відкриває меню редагування облікового запису.
2. Користувач натискає кнопку "Видалили обліковий запис".
3. Система видаляє обліковий запис (Можливо: EX.004.001).

### Password Reassignment (005)

***Alias:***  Перевстановити забутий пароль.

***Participants:***  Користувач, Система.

***Precondition:***  Користувач має обліковий запис.

***Result:***  Встановлення нового пароля.

***Exception:***

• EX.005.001. Обліковий запис із вказаною поштою не знайдений.

• EX.005.002. Користувач ввів не дійсну адресу електронної пошти.

• EX.005.003. Користувач не скористався токеном для заміни паролю впродовж визначеного часу.

• EX.005.004. Користувач повторно запросив зміну забутого пароля.

• EX.005.005. Первинний та повторний пароль не збігаються.

***Main Scenario:***
1. Користувач натискає на кнопку "Забули пароль?".
2. Система перенапрявляє користувача на сторінку введення електронної пошти.
3. Користувач вводить електронну пошту.
4. Користувач натискає на кнопку "Надіслати підтвердження" (Можливо: EX.005.001, EX.005.002).
5. Система надсилаю на пошту, вказану користувачем, токен-підтвердження зміни паролю.
6. Користувач переходить за посиланням-токеном для підтвердження зміни паролю. (Можливо: EX.005.003, EX.005.004)
7. Система перенаправляє користувача на сторінку зміни паролю.
8. Користувач вводить первинний та повторний паролі.
9. Користувач натискає на кнопку "Змінити пароль". (Можливо: EX.005.005)
10. Система змінює поточний пароль облікового запису на вказаний користувачем.

### Course Creating (006)

***Alias:***  Cтворити курс.

***Participants:***  Користувач, Система.

***Precondition:***  Користувач має обліковий запис.

***Result:***  Створення нового курсу.

***Exception:***

• EX.006.001. Користувач не ввів назву курсу.

• EX.006.002. Користувач не ввів опис курсу.

• EX.006.004. Користувач повторно запросив зміну забутого пароля.

• EX.006.005. Первинний та повторний пароль не збігаються.

***Main Scenario:***
1. Користувач натискає на кнопку "Створення курсу".
2. Система направляє користувача на сторінку створення курсу.
3. Користувач вводить назву курсу, опис курсу, додає емблему курсу.
4. Користувач натискає на кнопку "Створити курс" (Можливо: EX.005.001, EX.005.002).
5. Система надсилаю на пошту, вказану користувачем, токен-підтвердження зміни паролю.
6. Користувач переходить за посиланням-токеном для підтвердження зміни паролю. (Можливо: EX.005.003, EX.005.004)
7. Система перенаправляє користувача на сторінку зміни паролю.
8. Користувач вводить первинний та повторний паролі.
9. Користувач натискає на кнопку "Змінити пароль". (Можливо: EX.005.005)
10. Система змінює поточний пароль облікового запису на вказаний користувачем.

